{"version":3,"sources":["../src/app.module.ts"],"sourcesContent":["import { Module } from '@nestjs/common';\r\nimport { ConfigModule, ConfigService } from '@nestjs/config';\r\nimport { APP_GUARD, APP_FILTER, APP_INTERCEPTOR } from '@nestjs/core';\r\nimport { ThrottlerModule, ThrottlerGuard } from '@nestjs/throttler';\r\nimport { JwtModule } from '@nestjs/jwt';\r\n\r\n// Core\r\nimport { PrismaModule } from './prisma/prisma.module';\r\nimport { EmailModule } from './modules/email';\r\n\r\n// Common\r\nimport { JwtAuthGuard, RolesGuard } from './common/guards';\r\nimport { AllExceptionsFilter } from './common/filters';\r\nimport { TransformInterceptor } from './common/interceptors';\r\n\r\n// Feature Modules\r\nimport { AuthModule } from './modules/auth/auth.module';\r\nimport { CandidateModule } from './modules/candidate/candidate.module';\r\nimport { JobModule } from './modules/job/job.module';\r\nimport { TestModule } from './modules/test/test.module';\r\nimport { PaymentModule } from './modules/payment/payment.module';\r\nimport { ReferralModule } from './modules/referral/referral.module';\r\nimport { AdminModule } from './modules/admin/admin.module';\r\nimport { HRModule } from './modules/hr/hr.module';\r\nimport { EmployeeModule } from './modules/employee/employee.module';\r\nimport { SkillBucketModule } from './modules/skill-bucket/skill-bucket.module';\r\nimport { QuestionBankModule } from './modules/question-bank/question-bank.module';\r\nimport { TestTemplateModule } from './modules/test-template/test-template.module';\r\nimport { RapidFireModule } from './modules/rapid-fire/rapid-fire.module';\r\nimport { CloudinaryModule } from './modules/cloudinary/cloudinary.module';\r\nimport { ResumeParserModule } from './modules/resume-parser/resume-parser.module';\r\nimport { InterviewModule } from './modules/interview/interview.module';\r\n\r\n@Module({\r\n  imports: [\r\n    // Configuration\r\n    ConfigModule.forRoot({\r\n      isGlobal: true,\r\n      envFilePath: '.env',\r\n    }),\r\n\r\n    // Rate Limiting\r\n    ThrottlerModule.forRootAsync({\r\n      imports: [ConfigModule],\r\n      inject: [ConfigService],\r\n      useFactory: (config: ConfigService) => ({\r\n        throttlers: [\r\n          {\r\n            ttl: config.get('THROTTLE_TTL', 60) * 1000,\r\n            limit: config.get('THROTTLE_LIMIT', 100),\r\n          },\r\n        ],\r\n      }),\r\n    }),\r\n\r\n    // JWT (Global)\r\n    JwtModule.registerAsync({\r\n      imports: [ConfigModule],\r\n      inject: [ConfigService],\r\n      global: true,\r\n      useFactory: (config: ConfigService) => ({\r\n        secret: config.get('JWT_SECRET'),\r\n        signOptions: {\r\n          expiresIn: config.get('JWT_ACCESS_EXPIRY', '15m'),\r\n        },\r\n      }),\r\n    }),\r\n\r\n    // Database\r\n    PrismaModule,\r\n\r\n    // Email (Global)\r\n    EmailModule,\r\n\r\n    // Feature Modules\r\n    AuthModule,\r\n    CandidateModule,\r\n    JobModule,\r\n    TestModule,\r\n    PaymentModule,\r\n    ReferralModule,\r\n    AdminModule,\r\n    HRModule,\r\n    EmployeeModule,\r\n    SkillBucketModule,\r\n    QuestionBankModule,\r\n    TestTemplateModule,\r\n    RapidFireModule,\r\n\r\n    // File Upload & Resume Processing\r\n    CloudinaryModule,\r\n    ResumeParserModule,\r\n\r\n    // Interview System\r\n    InterviewModule,\r\n  ],\r\n\r\n  providers: [\r\n    // Global Exception Filter\r\n    {\r\n      provide: APP_FILTER,\r\n      useClass: AllExceptionsFilter,\r\n    },\r\n\r\n    // Global Response Transform\r\n    {\r\n      provide: APP_INTERCEPTOR,\r\n      useClass: TransformInterceptor,\r\n    },\r\n\r\n    // Global Auth Guard\r\n    {\r\n      provide: APP_GUARD,\r\n      useClass: JwtAuthGuard,\r\n    },\r\n\r\n    // Global Roles Guard\r\n    {\r\n      provide: APP_GUARD,\r\n      useClass: RolesGuard,\r\n    },\r\n\r\n    // Global Rate Limiting\r\n    {\r\n      provide: APP_GUARD,\r\n      useClass: ThrottlerGuard,\r\n    },\r\n  ],\r\n})\r\nexport class AppModule { }\r\n"],"names":["AppModule","imports","ConfigModule","forRoot","isGlobal","envFilePath","ThrottlerModule","forRootAsync","inject","ConfigService","useFactory","config","throttlers","ttl","get","limit","JwtModule","registerAsync","global","secret","signOptions","expiresIn","PrismaModule","EmailModule","AuthModule","CandidateModule","JobModule","TestModule","PaymentModule","ReferralModule","AdminModule","HRModule","EmployeeModule","SkillBucketModule","QuestionBankModule","TestTemplateModule","RapidFireModule","CloudinaryModule","ResumeParserModule","InterviewModule","providers","provide","APP_FILTER","useClass","AllExceptionsFilter","APP_INTERCEPTOR","TransformInterceptor","APP_GUARD","JwtAuthGuard","RolesGuard","ThrottlerGuard"],"mappings":";;;;+BAiIaA;;;eAAAA;;;wBAjIU;wBACqB;sBACW;2BACP;qBACtB;8BAGG;uBACD;wBAGa;yBACL;8BACC;4BAGV;iCACK;2BACN;4BACC;+BACG;gCACC;6BACH;0BACH;gCACM;mCACG;oCACC;oCACA;iCACH;kCACC;oCACE;iCACH;;;;;;;AAkGzB,IAAA,AAAMA,YAAN,MAAMA;AAAY;;;QA/FvBC,SAAS;YACP,gBAAgB;YAChBC,oBAAY,CAACC,OAAO,CAAC;gBACnBC,UAAU;gBACVC,aAAa;YACf;YAEA,gBAAgB;YAChBC,0BAAe,CAACC,YAAY,CAAC;gBAC3BN,SAAS;oBAACC,oBAAY;iBAAC;gBACvBM,QAAQ;oBAACC,qBAAa;iBAAC;gBACvBC,YAAY,CAACC,SAA2B,CAAA;wBACtCC,YAAY;4BACV;gCACEC,KAAKF,OAAOG,GAAG,CAAC,gBAAgB,MAAM;gCACtCC,OAAOJ,OAAOG,GAAG,CAAC,kBAAkB;4BACtC;yBACD;oBACH,CAAA;YACF;YAEA,eAAe;YACfE,cAAS,CAACC,aAAa,CAAC;gBACtBhB,SAAS;oBAACC,oBAAY;iBAAC;gBACvBM,QAAQ;oBAACC,qBAAa;iBAAC;gBACvBS,QAAQ;gBACRR,YAAY,CAACC,SAA2B,CAAA;wBACtCQ,QAAQR,OAAOG,GAAG,CAAC;wBACnBM,aAAa;4BACXC,WAAWV,OAAOG,GAAG,CAAC,qBAAqB;wBAC7C;oBACF,CAAA;YACF;YAEA,WAAW;YACXQ,0BAAY;YAEZ,iBAAiB;YACjBC,kBAAW;YAEX,kBAAkB;YAClBC,sBAAU;YACVC,gCAAe;YACfC,oBAAS;YACTC,sBAAU;YACVC,4BAAa;YACbC,8BAAc;YACdC,wBAAW;YACXC,kBAAQ;YACRC,8BAAc;YACdC,oCAAiB;YACjBC,sCAAkB;YAClBC,sCAAkB;YAClBC,gCAAe;YAEf,kCAAkC;YAClCC,kCAAgB;YAChBC,sCAAkB;YAElB,mBAAmB;YACnBC,gCAAe;SAChB;QAEDC,WAAW;YACT,0BAA0B;YAC1B;gBACEC,SAASC,gBAAU;gBACnBC,UAAUC,4BAAmB;YAC/B;YAEA,4BAA4B;YAC5B;gBACEH,SAASI,qBAAe;gBACxBF,UAAUG,kCAAoB;YAChC;YAEA,oBAAoB;YACpB;gBACEL,SAASM,eAAS;gBAClBJ,UAAUK,oBAAY;YACxB;YAEA,qBAAqB;YACrB;gBACEP,SAASM,eAAS;gBAClBJ,UAAUM,kBAAU;YACtB;YAEA,uBAAuB;YACvB;gBACER,SAASM,eAAS;gBAClBJ,UAAUO,yBAAc;YAC1B;SACD"}