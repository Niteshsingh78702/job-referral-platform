{"version":3,"sources":["../src/app.service.ts"],"sourcesContent":["import { Injectable } from '@nestjs/common';\r\nimport { PrismaService } from './prisma/prisma.service';\r\n\r\n@Injectable()\r\nexport class AppService {\r\n  constructor(private prisma: PrismaService) { }\r\n\r\n  getHello(): string {\r\n    return 'Hello World!';\r\n  }\r\n\r\n  async getPublicTestimonials(limit = 6) {\r\n    return this.prisma.testimonial.findMany({\r\n      where: { isActive: true },\r\n      orderBy: [{ displayOrder: 'asc' }, { createdAt: 'desc' }],\r\n      take: limit,\r\n    });\r\n  }\r\n\r\n  async getPublicSettings() {\r\n    const settings = await this.prisma.siteSettings.findMany({\r\n      where: {\r\n        key: { in: ['interviews_scheduled', 'candidates_selected'] },\r\n      },\r\n    });\r\n\r\n    const result = {\r\n      interviewsScheduled: 127,\r\n      candidatesSelected: 38,\r\n    };\r\n\r\n    settings.forEach((s) => {\r\n      if (s.key === 'interviews_scheduled') result.interviewsScheduled = parseInt(s.value) || 127;\r\n      if (s.key === 'candidates_selected') result.candidatesSelected = parseInt(s.value) || 38;\r\n    });\r\n\r\n    return result;\r\n  }\r\n}\r\n\r\n"],"names":["AppService","getHello","getPublicTestimonials","limit","prisma","testimonial","findMany","where","isActive","orderBy","displayOrder","createdAt","take","getPublicSettings","settings","siteSettings","key","in","result","interviewsScheduled","candidatesSelected","forEach","s","parseInt","value"],"mappings":";;;;+BAIaA;;;eAAAA;;;wBAJc;+BACG;;;;;;;;;;AAGvB,IAAA,AAAMA,aAAN,MAAMA;IAGXC,WAAmB;QACjB,OAAO;IACT;IAEA,MAAMC,sBAAsBC,QAAQ,CAAC,EAAE;QACrC,OAAO,IAAI,CAACC,MAAM,CAACC,WAAW,CAACC,QAAQ,CAAC;YACtCC,OAAO;gBAAEC,UAAU;YAAK;YACxBC,SAAS;gBAAC;oBAAEC,cAAc;gBAAM;gBAAG;oBAAEC,WAAW;gBAAO;aAAE;YACzDC,MAAMT;QACR;IACF;IAEA,MAAMU,oBAAoB;QACxB,MAAMC,WAAW,MAAM,IAAI,CAACV,MAAM,CAACW,YAAY,CAACT,QAAQ,CAAC;YACvDC,OAAO;gBACLS,KAAK;oBAAEC,IAAI;wBAAC;wBAAwB;qBAAsB;gBAAC;YAC7D;QACF;QAEA,MAAMC,SAAS;YACbC,qBAAqB;YACrBC,oBAAoB;QACtB;QAEAN,SAASO,OAAO,CAAC,CAACC;YAChB,IAAIA,EAAEN,GAAG,KAAK,wBAAwBE,OAAOC,mBAAmB,GAAGI,SAASD,EAAEE,KAAK,KAAK;YACxF,IAAIF,EAAEN,GAAG,KAAK,uBAAuBE,OAAOE,kBAAkB,GAAGG,SAASD,EAAEE,KAAK,KAAK;QACxF;QAEA,OAAON;IACT;IAhCA,YAAY,AAAQd,MAAqB,CAAE;aAAvBA,SAAAA;IAAyB;AAiC/C"}