{"version":3,"sources":["../../../src/common/decorators/current-user.decorator.ts"],"sourcesContent":["import { createParamDecorator, ExecutionContext } from '@nestjs/common';\r\n\r\nexport const CurrentUser = createParamDecorator(\r\n  (data: string | undefined, ctx: ExecutionContext) => {\r\n    const request = ctx.switchToHttp().getRequest();\r\n    const user = request.user;\r\n\r\n    if (!user) {\r\n      return null;\r\n    }\r\n\r\n    return data ? user[data] : user;\r\n  },\r\n);\r\n"],"names":["CurrentUser","createParamDecorator","data","ctx","request","switchToHttp","getRequest","user"],"mappings":";;;;+BAEaA;;;eAAAA;;;wBAF0C;AAEhD,MAAMA,cAAcC,IAAAA,4BAAoB,EAC7C,CAACC,MAA0BC;IACzB,MAAMC,UAAUD,IAAIE,YAAY,GAAGC,UAAU;IAC7C,MAAMC,OAAOH,QAAQG,IAAI;IAEzB,IAAI,CAACA,MAAM;QACT,OAAO;IACT;IAEA,OAAOL,OAAOK,IAAI,CAACL,KAAK,GAAGK;AAC7B"}